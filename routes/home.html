<div class="text-center">
  Welcome to...
  <h1>The Chat</h1>
</div>

<div class="flex flex-col">
  <div>Rooms</div>
  <div id="roomsList" class="flex flex-col">

  </div>
</div>

<script>
  const view = {
    roomsList: document.getElementById('roomsList')
  }

  
  getRooms()

  async function getRooms() {
    let res = await fetch('/api/get_rooms')
    let rooms = JSON.parse(await res.text())
    let html = ''
    for (const room of rooms) {
      html += `<a href="/room/${room.name}">${room.name} (${room.clients.length})</a>`
    }
    view.roomsList.innerHTML = html
  } 

</script>